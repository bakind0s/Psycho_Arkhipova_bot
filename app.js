// Telegram WebApp API
const tg = window.Telegram.WebApp;

// Telegram Bot API
const BOT_TOKEN = '8014706170:AAEtNvsDaxDR1lQY2H27HtFNLMcj5tmvO54';
const BOT_API_URL = `https://api.telegram.org/bot${BOT_TOKEN}`;

// Инициализация приложения
tg.ready();
tg.expand();

// Состояние приложения
let currentTest = null;
let currentQuestionIndex = 0;
let userAnswers = [];
let testResults = {};

// Данные тестов
const tests = [
    {
        id: 'san_test',
        title: 'САН (Самочувствие – Активность – Настроение)',
        description: 'Этот тест поможет оценить ваше текущее функциональное состояние по трем основным параметрам: самочувствие, активность и настроение. Выберите характеристику, которая наиболее точно описывает ваше состояние в настоящий момент.',
        questionsCount: 30,
        duration: '3-5 минут',
        questions: [
            {
                question: 'Самочувствие хорошее / Самочувствие плохое',
                answers: ['Самочувствие хорошее', 'Самочувствие плохое'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Чувствую себя сильным / Чувствую себя слабым',
                answers: ['Чувствую себя сильным', 'Чувствую себя слабым'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Пассивный / Активный',
                answers: ['Пассивный', 'Активный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Малоподвижный / Подвижный',
                answers: ['Малоподвижный', 'Подвижный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Веселый / Грустный',
                answers: ['Веселый', 'Грустный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Хорошее настроение / Плохое настроение',
                answers: ['Хорошее настроение', 'Плохое настроение'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Работоспособный / Разбитый',
                answers: ['Работоспособный', 'Разбитый'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Полный сил / Обессиленный',
                answers: ['Полный сил', 'Обессиленный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Медлительный / Быстрый',
                answers: ['Медлительный', 'Быстрый'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Бездеятельный / Деятельный',
                answers: ['Бездеятельный', 'Деятельный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Счастливый / Несчастный',
                answers: ['Счастливый', 'Несчастный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Жизнерадостный / Мрачный',
                answers: ['Жизнерадостный', 'Мрачный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Напряженный / Расслабленный',
                answers: ['Напряженный', 'Расслабленный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Здоровый / Больной',
                answers: ['Здоровый', 'Больной'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Безучастный / Увлеченный',
                answers: ['Безучастный', 'Увлеченный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Равнодушный / Заинтересованный',
                answers: ['Равнодушный', 'Заинтересованный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Восторженный / Унылый',
                answers: ['Восторженный', 'Унылый'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Радостный / Печальный',
                answers: ['Радостный', 'Печальный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Отдохнувший / Усталый',
                answers: ['Отдохнувший', 'Усталый'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Свежий / Изнуренный',
                answers: ['Свежий', 'Изнуренный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Сонливый / Возбужденный',
                answers: ['Сонливый', 'Возбужденный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Желание отдохнуть / Желание работать',
                answers: ['Желание отдохнуть', 'Желание работать'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Спокойный / Взволнованный',
                answers: ['Спокойный', 'Взволнованный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Оптимистичный / Пессимистичный',
                answers: ['Оптимистичный', 'Пессимистичный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Выносливый / Утомляемый',
                answers: ['Выносливый', 'Утомляемый'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Бодрый / Вялый',
                answers: ['Бодрый', 'Вялый'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'wellbeing'
            },
            {
                question: 'Соображать трудно / Соображать легко',
                answers: ['Соображать трудно', 'Соображать легко'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Рассеянный / Внимательный',
                answers: ['Рассеянный', 'Внимательный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'activity'
            },
            {
                question: 'Полный надежд / Разочарованный',
                answers: ['Полный надежд', 'Разочарованный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            },
            {
                question: 'Довольный / Недовольный',
                answers: ['Довольный', 'Недовольный'],
                scale: [3, 2, 1, 0, 1, 2, 3],
                category: 'mood'
            }
        ],
        results: {
            'excellent': {
                title: 'Отличное состояние',
                description: 'У вас отличное самочувствие, высокая активность и прекрасное настроение. Вы полны энергии и готовы к активной деятельности.'
            },
            'good': {
                title: 'Хорошее состояние',
                description: 'Ваше состояние можно оценить как хорошее. Вы чувствуете себя комфортно и готовы к продуктивной работе.'
            },
            'normal': {
                title: 'Нормальное состояние',
                description: 'Ваше состояние находится в пределах нормы. Возможно, стоит немного отдохнуть или заняться чем-то приятным.'
            },
            'below_average': {
                title: 'Состояние ниже среднего',
                description: 'Ваше состояние несколько снижено. Рекомендуется отдых, прогулка на свежем воздухе или занятие любимым делом.'
            },
            'poor': {
                title: 'Плохое состояние',
                description: 'Ваше состояние требует внимания. Рекомендуется полноценный отдых, консультация с врачом или психологом.'
            }
        }
    },
    {
        id: 'psm25_test',
        title: 'ШКАЛА ПСИХОЛОГИЧЕСКОГО СТРЕССА PSM-25',
        description: 'Этот тест поможет оценить уровень вашего психологического стресса. Оцените свое состояние за последнюю неделю по 8-балльной шкале.',
        questionsCount: 25,
        duration: '5-7 минут',
        questions: [
            {
                question: 'Я напряжен(а) и взволнован(а) (взвинчен)',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'У меня ком в горле, и (или) я ощущаю сухость во рту',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я перегружен(а) работой. Мне совсем не хватает времени',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я проглатываю пищу или забываю поесть',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'После работы я не могу отключиться от мыслей о незавершенных делах, проблемах, планах',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я чувствую себя одиноким(ой), изолированным(ой) и непонятым(ой)',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я страдаю от физического недомогания; у меня болит голова, напряжены мышцы шеи',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я поглощен(а) мрачными мыслями, измучен(а) тревожными состояниями',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Меня внезапно бросает то в жар, то в холод',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я забываю о встречах или делах, которые должен(а) сделать или решить',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я легко могу заплакать',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я чувствую себя уставшим человеком',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'В трудной ситуации я крепко стискиваю зубы (или сжимаю кулаки)',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я не спокоен / не спокойна',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Мне тяжело дышать, и (или) у меня внезапно перехватывает дыхание',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я имею проблемы с пищеварением и с кишечником (боли, колики, расстройства или запоры)',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я взволнован(а), обеспокоен(а) или смущен(а)',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я легко пугаюсь; шум или шорох заставляет меня вздрагивать',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Мне необходимо более чем полчаса для того, чтобы заснуть',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я сбит(а) с толку; мои мысли спутаны; мне не хватает сосредоточенности',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'У меня усталый вид; мешки или круги под глазами',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я чувствую тяжесть на своих плечах',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я встревожен(а). Мне необходимо постоянно двигаться; я не могу устоять на одном месте',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Мне трудно контролировать свои поступки, эмоции, настроение или жесты',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            },
            {
                question: 'Я чувствую напряженность',
                answers: ['Никогда', 'Постоянно'],
                scale: ['Никогда', 'Крайне редко', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто', 'Постоянно'],
                category: 'stress'
            }
        ],
        results: {
            'high_stress': {
                title: 'Высокий уровень стресса',
                description: 'У вас высокий уровень психологического стресса (ППН больше 155 баллов). Это состояние дезадаптации и психологического дискомфорта. Рекомендуется широкий спектр средств и методов для снижения нервно-психического напряжения, психологическая разгрузка, изменение образа жизни и мышления. Рекомендуется консультация психолога.'
            },
            'medium_stress': {
                title: 'Средний уровень стресса',
                description: 'У вас средний уровень стресса (ППН в интервале 100-155 баллов). Рекомендуется соблюдать режим труда и отдыха, наладить распорядок дня. Снизить нагрузки, хотя бы на время. Взять перерыв для отдыха, прогулок или сна.'
            },
            'low_stress': {
                title: 'Низкий уровень стресса',
                description: 'У вас низкий уровень стресса (ППН меньше 100 баллов). Это состояние психологической адаптации к рабочим нагрузкам. Вы хорошо справляетесь со стрессовыми ситуациями.'
            }
        }
    },
    {
        id: 'burnout_test',
        title: 'Опросник выгорания',
        description: 'Этот тест поможет оценить уровень профессионального выгорания по трем основным шкалам: эмоциональное истощение, деперсонализация и редукция профессионализма. Оцените, как часто вы испытываете перечисленные чувства по 6-балльной шкале.',
        questionsCount: 22,
        duration: '7-10 минут',
        questions: [
            {
                question: 'Я чувствую себя эмоционально опустошенным',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'После работы я чувствую себя как «выжатый лимон»',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'Утром я чувствую усталость и нежелание идти на работу',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'Я хорошо понимаю, что чувствуют мои подчиненные и коллеги, и стараюсь учитывать это в интересах дела',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'Я чувствую, что общаюсь с некоторыми подчиненными и коллегами как с предметами (без теплоты и расположения к ним)',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'depersonalization',
                direct: true
            },
            {
                question: 'После работы на некоторое время хочется уединиться от всех и всего',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: false
            },
            {
                question: 'Я умею находить правильное решение в конфликтных ситуациях, возникающих при общении с коллегами',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'Я чувствую угнетенность и апатию',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'Я уверен, что моя работа нужна людям',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'В последнее время я стал более «черствым» по отношению к тем, с кем работаю',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'depersonalization',
                direct: true
            },
            {
                question: 'Я замечаю, что моя работа ожесточает меня',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'depersonalization',
                direct: true
            },
            {
                question: 'У меня много планов на будущее, и я верю в их осуществление',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'Моя работа все больше меня разочаровывает',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'Мне кажется, что я слишком много работаю',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'Бывает, что мне действительно безразлично то, что происходит с некоторыми моими подчиненными и коллегами',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'depersonalization',
                direct: true
            },
            {
                question: 'Мне хочется уединиться и отдохнуть от всего и всех',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'Я легко могу создать атмосферу доброжелательности и сотрудничества в коллективе',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'Во время работы я чувствую приятное оживление',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'Благодаря своей работе я уже сделал в жизни много действительно ценного',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'Я чувствую равнодушие и потерю интереса ко многому, что радовало меня в моей работе',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'emotional_exhaustion',
                direct: true
            },
            {
                question: 'На работе я спокойно справляюсь с эмоциональными проблемами',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'professional_reduction',
                direct: true
            },
            {
                question: 'В последнее время мне кажется, что коллеги и подчиненные все чаще перекладывают на меня груз своих проблем и обязанностей',
                answers: ['Никогда', 'Каждый день'],
                scale: ['Никогда', 'Очень редко', 'Редко', 'Иногда', 'Часто', 'Очень часто'],
                category: 'depersonalization',
                direct: true
            }
        ],
        results: {
            'low_burnout': {
                title: 'Низкий уровень выгорания',
                description: 'У вас низкий уровень профессионального выгорания. Вы хорошо справляетесь с рабочими нагрузками и сохраняете профессиональную мотивацию.'
            },
            'medium_burnout': {
                title: 'Средний уровень выгорания',
                description: 'У вас средний уровень профессионального выгорания. Рекомендуется обратить внимание на режим работы и отдыха, а также на эмоциональное состояние.'
            },
            'high_burnout': {
                title: 'Высокий уровень выгорания',
                description: 'У вас высокий уровень профессионального выгорания. Рекомендуется консультация психолога и серьезные изменения в рабочем процессе.'
            }
        }
    },
    {
        id: 'urgent_dependency_test',
        title: 'Диагностика ургентной зависимости',
        description: 'Этот тест поможет оценить уровень ургентной зависимости и работоголизма по четырем шкалам: работоголизм, личное время, межличностные отношения и темп жизни. Оцените, как часто вы испытываете перечисленные чувства по 5-балльной шкале: 1– «никогда»; 2– «редко»; 3– «иногда»; 4– «часто»; 5– «всегда».',
        questionsCount: 44,
        duration: '10-15 минут',
        questions: [
            {
                question: 'Бывает, что я отказываюсь от своего обычного отпуска',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я беру работу домой, работаю в выходные',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я сравниваю свои карьерные успехи с успехами людей моего возраста или моложе',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я стремлюсь «быть первым» в конкурентной ситуации',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Если в моем рабочем графике неожиданно появляется «окно», я использую это время для выполнения другой работы',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Мой рабочий график настолько плотный, что я (мой секретарь) вынужден постоянно что-то в нем менять',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я делаю дела во время собственного перерыва',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я чувствую, что работа отнимает у меня лучшие годы жизни',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я постоянно думаю о работе',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я чувствую себя незаменимым на работе',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я испытываю крайне неприятные чувства, когда беру больничный',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я посвящаю работе более 10 часов в день',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'workaholism',
                direct: true
            },
            {
                question: 'Я посвящаю достаточно времени себе',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: false
            },
            {
                question: 'Я замедляю темп, в котором живу, когда хочу',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: false
            },
            {
                question: 'Я говорю себе, что как только закончу текущие дела, начну делать то, что действительно хочу',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: true
            },
            {
                question: 'У меня есть время посещать кино, театры, выставки, концерты',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: false
            },
            {
                question: 'Я стараюсь делать несколько дел одновременно',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: true
            },
            {
                question: 'Я чувствую, что жизнь проходит мимо меня',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: true
            },
            {
                question: 'Мне легко расслабиться после работы',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: false
            },
            {
                question: 'Я испытываю дискомфорт, когда у меня есть свободное время',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: true
            },
            {
                question: 'Я могу сократить продолжительность своего рабочего дня',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: false
            },
            {
                question: 'Я испытываю трудности со сном (трудно заснуть, прерывистый сон, после сна не чувствую себя отдохнувшим)',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'personal_time',
                direct: true
            },
            {
                question: 'Я специально планирую время, которое смогу провести с семьей или друзьями',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Мне тяжело представить, что у меня может быть свободное время',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Я забываю даты семейных торжеств и праздников',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Я обещаю себе, что обязательно несколько недель потрачу на отдых',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Если бы я не был чем-то занят, я бы сошел с ума',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'У меня есть время, чтобы встречаться с друзьями',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: false
            },
            {
                question: 'Большая часть моих контактов с людьми касается работы',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Я планирую свое свободное время',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Наибольшую пользу для себя я нахожу в деловых отношениях',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'На встречах в неформальной обстановке я планирую, что предстоит сделать в ближайшем будущем',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'interpersonal_relationships',
                direct: true
            },
            {
                question: 'Я обхожу людей на эскалаторе, когда это возможно',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Если впереди стоящее транспортное средство не двигается при зажженном зеленом сигнале, меня это раздражает',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Меня раздражает, если кто-то выполняет свою работу медленно',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Мне свойственно торопиться, спешить',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Я превышаю скорость (или прошу об этом водителя), когда тороплюсь',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Я оцениваю себя по тому, сколько успел (-а) сделать в течение дня',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Я сержусь, когда меня отвлекают от срочного дела',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'В передвижении по городу я выбираю наиболее короткие маршруты',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Стоя в очереди, я наблюдаю за продвижением других очередей, что убедиться, что моя очередь движется быстрее',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Меня раздражает медленное движение лифта',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Я испытываю раздражение, если кто-то впереди меня задерживает очередь',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            },
            {
                question: 'Я принимаю решение спонтанно',
                answers: ['Никогда', 'Редко', 'Иногда', 'Часто', 'Всегда'],
                scale: [1, 2, 3, 4, 5],
                category: 'pace_of_life',
                direct: true
            }
        ],
        results: {
            'low_dependency': {
                title: 'Низкий уровень ургентной зависимости',
                description: 'У вас низкий уровень ургентной зависимости. Вы хорошо управляете своим временем, умеете отдыхать и не испытываете постоянного стресса от нехватки времени.'
            },
            'medium_dependency': {
                title: 'Средний уровень ургентной зависимости',
                description: 'У вас средний уровень ургентной зависимости. Рекомендуется обратить внимание на баланс работы и отдыха, а также на управление временем.'
            },
            'high_dependency': {
                title: 'Высокий уровень ургентной зависимости',
                description: 'У вас высокий уровень ургентной зависимости. Рекомендуется консультация психолога и серьезные изменения в отношении к работе и времени.'
            }
        }
    },
    {
        id: 'anxiety_test',
        title: 'Шкала личностной и ситуативной тревоги',
        description: 'Этот тест поможет оценить уровень ситуативной и личностной тревожности. Тест состоит из двух частей: 20 вопросов о текущем состоянии (ситуативная тревожность) и 20 вопросов о ваших обычных переживаниях (личностная тревожность). Оцените каждое утверждение по 4-балльной шкале.',
        questionsCount: 40,
        duration: '8-12 минут',
        questions: [
            // Ситуативная тревожность (1-20)
            {
                question: 'Я спокоен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 1
            },
            {
                question: 'Мне ничто не угрожает',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 2
            },
            {
                question: 'Я нахожусь в состоянии напряжения',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 3
            },
            {
                question: 'Я внутренне спокоен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 4
            },
            {
                question: 'Я чувствую себя спокойно',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 5
            },
            {
                question: 'Я расстроен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 6
            },
            {
                question: 'Меня волнуют возможные неудачи',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 7
            },
            {
                question: 'Я ощущаю душевный покой',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 8
            },
            {
                question: 'Я встревожен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 9
            },
            {
                question: 'Я испытываю чувство внутреннего удовлетворения',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 10
            },
            {
                question: 'Я уверен в себе',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 11
            },
            {
                question: 'Я нервничаю',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 12
            },
            {
                question: 'Я не нахожу себе места',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 13
            },
            {
                question: 'Я взвинчен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 14
            },
            {
                question: 'Я не чувствую скованности и напряжения',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 15
            },
            {
                question: 'Я доволен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 16
            },
            {
                question: 'Я озабочен',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 17
            },
            {
                question: 'Я слишком возбужден, и мне не по себе',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: true,
                questionNumber: 18
            },
            {
                question: 'Мне радостно',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 19
            },
            {
                question: 'Мне приятно',
                answers: ['Нет, это не так', 'Пожалуй, так', 'Верно', 'Совершенно верно'],
                scale: [1, 2, 3, 4],
                category: 'situational',
                direct: false,
                questionNumber: 20
            },
            // Личностная тревожность (21-40)
            {
                question: 'У меня бывает приподнятое настроение',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: false,
                questionNumber: 21
            },
            {
                question: 'Я бываю раздражительным',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 22
            },
            {
                question: 'Я легко могу расстроиться',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 23
            },
            {
                question: 'Я хотел бы быть таким же удачливым, как другие',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 24
            },
            {
                question: 'Я сильно переживаю неприятности и долго не могу о них забыть',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 25
            },
            {
                question: 'Я чувствую прилив сил, желание работать',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: false,
                questionNumber: 26
            },
            {
                question: 'Я спокоен, хладнокровен и собран',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: false,
                questionNumber: 27
            },
            {
                question: 'Меня тревожат возможные трудности',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 28
            },
            {
                question: 'Я слишком переживаю из-за пустяков',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 29
            },
            {
                question: 'Я бываю вполне счастлив',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: false,
                questionNumber: 30
            },
            {
                question: 'Я все принимаю близко к сердцу',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 31
            },
            {
                question: 'Мне не хватает уверенности в себе',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 32
            },
            {
                question: 'Я чувствую себя беззащитным',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 33
            },
            {
                question: 'Я стараюсь избегать критических ситуаций и трудностей',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 34
            },
            {
                question: 'У меня бывает хандра',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 35
            },
            {
                question: 'Я бываю доволен',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: false,
                questionNumber: 36
            },
            {
                question: 'Всякие пустяки отвлекают и волнуют меня',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 37
            },
            {
                question: 'Я так сильно переживаю свои разочарования, что потом долго не могу о них забыть',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 38
            },
            {
                question: 'Я уравновешенный человек',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: false,
                questionNumber: 39
            },
            {
                question: 'Меня охватывает сильное беспокойство, когда я думаю о своих делах и заботах',
                answers: ['Никогда', 'Почти никогда', 'Часто', 'Почти всегда'],
                scale: [1, 2, 3, 4],
                category: 'personal',
                direct: true,
                questionNumber: 40
            }
        ],
        results: {
            'low_anxiety': {
                title: 'Низкий уровень тревожности',
                description: 'У вас низкий уровень тревожности. Это может быть как положительным признаком эмоциональной стабильности, так и защитным механизмом, который может препятствовать развитию личности.'
            },
            'medium_anxiety': {
                title: 'Средний уровень тревожности',
                description: 'У вас средний уровень тревожности. Это нормальный уровень, который не мешает повседневной жизни и может даже способствовать мотивации.'
            },
            'high_anxiety': {
                title: 'Высокий уровень тревожности',
                description: 'У вас высокий уровень тревожности. Рекомендуется обратиться к психологу для работы с тревожными состояниями и развития навыков управления стрессом.'
            },
            'very_high_anxiety': {
                title: 'Очень высокий уровень тревожности',
                description: 'У вас очень высокий уровень тревожности. Настоятельно рекомендуется консультация психолога или психотерапевта для профессиональной помощи в управлении тревожными состояниями.'
            }
        }
    },
    {
        id: 'beck_depression_test',
        title: 'Шкала депрессии',
        description: 'Этот тест поможет оценить уровень депрессии. Тест состоит из 21 группы утверждений, в каждой группе выберите одно утверждение, которое лучше всего соответствует тому, как вы себя чувствовали на этой неделе и сегодня. Каждое утверждение имеет значение от 0 до 3 баллов.',
        questionsCount: 21,
        duration: '10-15 минут',
        questions: [
            {
                question: 'Настроение',
                answers: [
                    'Я не чувствую себя расстроенным, печальным',
                    'Я расстроен',
                    'Я все время расстроен и не могу от этого отключиться',
                    'Я настолько расстроен и несчастлив, что не могу это выдержать'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 1
            },
            {
                question: 'Пессимизм',
                answers: [
                    'Я не тревожусь о своем будущем',
                    'Я чувствую, что озадачен будущим',
                    'Я чувствую, что меня ничего не ждет в будущем',
                    'Мое будущее безнадежно, и ничто не может измениться к лучшему'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 2
            },
            {
                question: 'Чувство несостоятельности',
                answers: [
                    'Я не чувствую себя неудачником',
                    'Я чувствую, что терпел больше неудач, чем другие люди',
                    'Когда я оглядываюсь на свою жизнь, я вижу в ней много неудач',
                    'Я чувствую, что как личность я - полный неудачник'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 3
            },
            {
                question: 'Неудовлетворенность',
                answers: [
                    'Я получаю столько же удовлетворения от жизни, как раньше',
                    'Я не получаю столько же удовлетворения от жизни, как раньше',
                    'Я больше не получаю удовлетворения ни от чего',
                    'Я полностью не удовлетворен жизнью, и мне все надоело'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 4
            },
            {
                question: 'Чувство вины',
                answers: [
                    'Я не чувствую себя в чем-нибудь виноватым',
                    'Достаточно часто я чувствую себя виноватым',
                    'Большую часть времени я чувствую себя виноватым',
                    'Я постоянно испытываю чувство вины'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 5
            },
            {
                question: 'Ощущение, что буду наказан',
                answers: [
                    'Я не чувствую, что могу быть наказанным за что-либо',
                    'Я чувствую, что могу быть наказан',
                    'Я ожидаю, что могу быть наказан',
                    'Я чувствую себя уже наказанным'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 6
            },
            {
                question: 'Отвращение к самому себе',
                answers: [
                    'Я не разочаровался в себе',
                    'Я разочаровался в себе',
                    'Я себе противен',
                    'Я себя ненавижу'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 7
            },
            {
                question: 'Идеи самообвинения',
                answers: [
                    'Я знаю, что я не хуже других',
                    'Я критикую себя за ошибки и слабости',
                    'Я все время обвиняю себя за свои поступки',
                    'Я виню себя во всем плохом, что происходит'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 8
            },
            {
                question: 'Суицидальные мысли',
                answers: [
                    'Я никогда не думал покончить с собой',
                    'Ко мне приходят мысли покончить с собой, но я не буду их осуществлять',
                    'Я хотел бы покончить с собой',
                    'Я бы убил себя, если бы представился случай'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 9
            },
            {
                question: 'Слезливость',
                answers: [
                    'Я плачу не больше, чем обычно',
                    'Сейчас я плачу чаще, чем раньше',
                    'Теперь я все время плачу',
                    'Раньше я мог плакать, а сейчас не могу, даже если мне хочется'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 10
            },
            {
                question: 'Раздражительность',
                answers: [
                    'Сейчас я раздражителен не более, чем обычно',
                    'Я более легко раздражаюсь, чем раньше',
                    'Теперь я постоянно чувствую, что раздражен',
                    'Я стал равнодушен к вещам, которые меня раньше раздражали'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 11
            },
            {
                question: 'Нарушение социальных связей',
                answers: [
                    'Я не утратил интереса к другим людям',
                    'Я меньше интересуюсь другими людьми, чем раньше',
                    'Я почти потерял интерес к другим людям',
                    'Я полностью утратил интерес к другим людям'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 12
            },
            {
                question: 'Нерешительность',
                answers: [
                    'Я откладываю принятие решения иногда, как и раньше',
                    'Я чаще, чем раньше, откладываю принятие решения',
                    'Мне труднее принимать решения, чем раньше',
                    'Я больше не могу принимать решения'
                ],
                scale: [0, 1, 2, 3],
                category: 'cognitive_affective',
                questionNumber: 13
            },
            {
                question: 'Образ тела',
                answers: [
                    'Я не чувствую, что выгляжу хуже, чем обычно',
                    'Меня тревожит, что я выгляжу старым и непривлекательным',
                    'Я знаю, что в моей внешности произошли существенные изменения, делающие меня непривлекательным',
                    'Я знаю, что выгляжу безобразно'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 14
            },
            {
                question: 'Утрата работоспособности',
                answers: [
                    'Я могу работать так же хорошо, как и раньше',
                    'Мне необходимо сделать дополнительное усилие, чтобы начать делать что-нибудь',
                    'Я с трудом заставляю себя делать что-либо',
                    'Я совсем не могу выполнять никакую работу'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 15
            },
            {
                question: 'Нарушение сна',
                answers: [
                    'Я сплю так же хорошо, как и раньше',
                    'Сейчас я сплю хуже, чем раньше',
                    'Я просыпаюсь на 1-2 часа раньше, и мне трудно заснуть опять',
                    'Я просыпаюсь на несколько часов раньше обычного и больше не могу заснуть'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 16
            },
            {
                question: 'Утомляемость',
                answers: [
                    'Я устаю не больше, чем обычно',
                    'Теперь я устаю быстрее, чем раньше',
                    'Я устаю почти от всего, что я делаю',
                    'Я не могу ничего делать из-за усталости'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 17
            },
            {
                question: 'Утрата аппетита',
                answers: [
                    'Мой аппетит не хуже, чем обычно',
                    'Мой аппетит стал хуже, чем раньше',
                    'Мой аппетит теперь значительно хуже',
                    'У меня вообще нет аппетита'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 18
            },
            {
                question: 'Потеря веса',
                answers: [
                    'В последнее время я не похудел или потеря веса была незначительной',
                    'За последнее время я потерял более 2 кг',
                    'Я потерял более 5 кг',
                    'Я потерял более 7 кг'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 19
            },
            {
                question: 'Охваченность телесными ощущениями',
                answers: [
                    'Я беспокоюсь о своем здоровье не больше, чем обычно',
                    'Меня тревожат проблемы моего физического здоровья, такие, как боли, расстройство желудка, запоры и т.д.',
                    'Я очень обеспокоен своим физическим состоянием, и мне трудно думать о чем-либо другом',
                    'Я настолько обеспокоен своим физическим состоянием, что больше ни о чем не могу думать'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 20
            },
            {
                question: 'Утрата либидо',
                answers: [
                    'В последнее время я не замечал изменения своего интереса к сексу',
                    'Меня меньше занимают проблемы секса, чем раньше',
                    'Сейчас я значительно меньше интересуюсь сексуальными проблемами, чем раньше',
                    'Я полностью утратил сексуальный интерес'
                ],
                scale: [0, 1, 2, 3],
                category: 'somatic',
                questionNumber: 21
            }
        ],
        results: {
            'no_depression': {
                title: 'Отсутствие депрессивных симптомов',
                description: 'У вас отсутствуют признаки депрессии. Ваше эмоциональное состояние в норме.'
            },
            'mild_depression': {
                title: 'Легкая депрессия (субдепрессия)',
                description: 'У вас легкие признаки депрессии. Рекомендуется обратить внимание на свое эмоциональное состояние и при необходимости обратиться к специалисту.'
            },
            'moderate_depression': {
                title: 'Умеренная депрессия',
                description: 'У вас умеренные признаки депрессии. Рекомендуется консультация психолога или психотерапевта для работы с депрессивными состояниями.'
            },
            'severe_depression': {
                title: 'Выраженная депрессия (средней тяжести)',
                description: 'У вас выраженные признаки депрессии. Настоятельно рекомендуется обратиться к психологу или психотерапевту для профессиональной помощи.'
            },
            'very_severe_depression': {
                title: 'Тяжелая депрессия',
                description: 'У вас тяжелые признаки депрессии. Необходимо срочно обратиться к специалисту для получения профессиональной помощи и поддержки.'
            }
        }
    },
    {
        id: 'emotional_intelligence_test',
        title: 'Тест эмоционального интеллекта',
        description: 'Этот тест поможет оценить ваш эмоциональный интеллект по методике Н. Холла. Тест состоит из 30 утверждений, каждое из которых нужно оценить по 6-балльной шкале от -3 до +3. Чем больше положительная сумма баллов, тем больше выражено данное эмоциональное проявление.',
        questionsCount: 30,
        duration: '8-12 минут',
        questions: [
            {
                question: 'Для меня как отрицательные, так и положительные эмоции служат источником знания о том, как поступать в жизни',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotional_awareness',
                questionNumber: 1
            },
            {
                question: 'Отрицательные эмоции помогают мне понять, что я должен изменить в моей жизни',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotional_awareness',
                questionNumber: 2
            },
            {
                question: 'Я спокоен, когда испытываю давление со стороны',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_management',
                questionNumber: 3
            },
            {
                question: 'Я способен наблюдать изменение своих чувств',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotional_awareness',
                questionNumber: 4
            },
            {
                question: 'Когда необходимо, я могу быть спокойным и сосредоточенным, чтобы действовать в соответствии с запросами жизни',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'self_motivation',
                questionNumber: 5
            },
            {
                question: 'Когда необходимо, я могу вызвать у себя широкий спектр положительных эмоций, такие, как веселье, радость, внутренний подъем и юмор',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'self_motivation',
                questionNumber: 6
            },
            {
                question: 'Я слежу за тем, как я себя чувствую',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_management',
                questionNumber: 7
            },
            {
                question: 'После того как что-то расстроило меня, я могу легко совладать со своими чувствами',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_management',
                questionNumber: 8
            },
            {
                question: 'Я способен выслушивать проблемы других людей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'empathy',
                questionNumber: 9
            },
            {
                question: 'Я не зацикливаюсь на отрицательных эмоциях',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_management',
                questionNumber: 10
            },
            {
                question: 'Я чувствителен к эмоциональным потребностям других',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'empathy',
                questionNumber: 11
            },
            {
                question: 'Я могу действовать успокаивающе на других людей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_recognition',
                questionNumber: 12
            },
            {
                question: 'Я могу заставить себя снова и снова встать перед лицом препятствия',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'self_motivation',
                questionNumber: 13
            },
            {
                question: 'Я стараюсь подходить творчески к жизненным проблемам',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'self_motivation',
                questionNumber: 14
            },
            {
                question: 'Я адекватно реагирую на настроения, побуждения и желания других людей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_recognition',
                questionNumber: 15
            },
            {
                question: 'Я могу легко входить в состояние спокойствия, готовности и сосредоточенности',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'self_motivation',
                questionNumber: 16
            },
            {
                question: 'Когда позволяет время, я обращаюсь к своим негативным чувствам и разбираюсь, в чем проблема',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotional_awareness',
                questionNumber: 17
            },
            {
                question: 'Я способен быстро успокоиться после неожиданного огорчения',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_management',
                questionNumber: 18
            },
            {
                question: 'Знание моих истинных чувств важно для поддержания «хорошей формы»',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotional_awareness',
                questionNumber: 19
            },
            {
                question: 'Я хорошо понимаю эмоции других людей, даже если они не выражены открыто',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'empathy',
                questionNumber: 20
            },
            {
                question: 'Я хорошо могу распознавать эмоции по выражению лица',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'empathy',
                questionNumber: 21
            },
            {
                question: 'Я могу легко отбросить негативные чувства, когда необходимо действовать',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'self_motivation',
                questionNumber: 22
            },
            {
                question: 'Я хорошо улавливаю знаки в общении, которые указывают на то, в чем другие нуждаются',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'empathy',
                questionNumber: 23
            },
            {
                question: 'Люди считают меня хорошим знатоком переживаний других людей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_recognition',
                questionNumber: 24
            },
            {
                question: 'Люди, осознающие свои истинные чувства, лучше управляют своей жизнью',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotional_awareness',
                questionNumber: 25
            },
            {
                question: 'Я способен улучшить настроение других людей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_recognition',
                questionNumber: 26
            },
            {
                question: 'Со мной можно посоветоваться по вопросам отношений между людьми',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_recognition',
                questionNumber: 27
            },
            {
                question: 'Я хорошо настраиваюсь на эмоции других людей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'empathy',
                questionNumber: 28
            },
            {
                question: 'Я помогаю другим использовать их побуждения для достижения личных целей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_recognition',
                questionNumber: 29
            },
            {
                question: 'Я могу легко отключиться от переживания неприятностей',
                answers: [
                    'Полностью не согласен (-3 балла)',
                    'В основном не согласен (-2 балла)',
                    'Отчасти не согласен (-1 балл)',
                    'Отчасти согласен (+1 балл)',
                    'В основном согласен (+2 балла)',
                    'Полностью согласен (+3 балла)'
                ],
                scale: [-3, -2, -1, 1, 2, 3],
                category: 'emotion_management',
                questionNumber: 30
            }
        ],
        results: {
            'low_ei': {
                title: 'Низкий уровень эмоционального интеллекта',
                description: 'У вас низкий уровень эмоционального интеллекта. Рекомендуется развивать навыки понимания и управления эмоциями, а также эмпатию.'
            },
            'medium_ei': {
                title: 'Средний уровень эмоционального интеллекта',
                description: 'У вас средний уровень эмоционального интеллекта. Есть потенциал для развития навыков эмоциональной компетентности.'
            },
            'high_ei': {
                title: 'Высокий уровень эмоционального интеллекта',
                description: 'У вас высокий уровень эмоционального интеллекта. Вы хорошо понимаете и управляете своими эмоциями, а также способны к эмпатии.'
            }
        }
    }
];

// DOM элементы
const pages = {
    home: document.getElementById('home-page'),
    description: document.getElementById('test-description-page'),
    test: document.getElementById('test-page'),
    results: document.getElementById('results-page')
};

const elements = {
    testsContainer: document.getElementById('tests-container'),
    testTitle: document.getElementById('test-title'),
    testDescriptionText: document.getElementById('test-description-text'),
    testQuestionsCount: document.getElementById('test-questions-count'),
    testDuration: document.getElementById('test-duration'),
    startTestBtn: document.getElementById('start-test-btn'),
    backToHomeBtn: document.getElementById('back-to-home-btn'),
    questionText: document.getElementById('question-text'),
    answersContainer: document.getElementById('answers-container'),
    questionCounter: document.getElementById('question-counter'),
    progressFill: document.getElementById('progress-fill'),
    progressBar: document.getElementById('progress-bar'),
    prevQuestionBtn: document.getElementById('prev-question-btn'),
    nextQuestionBtn: document.getElementById('next-question-btn'),
    testResult: document.getElementById('test-result'),
    retakeTestBtn: document.getElementById('retake-test-btn'),
    homeBtn: document.getElementById('home-btn')
};

// Инициализация
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
    setupEventListeners();
});

function initializeApp() {
    renderTestsList();
    showPage('home');
}

function setupEventListeners() {
    // Кнопки навигации
    elements.startTestBtn.addEventListener('click', startTest);
    elements.backToHomeBtn.addEventListener('click', () => showPage('home'));
    elements.retakeTestBtn.addEventListener('click', retakeTest);
    elements.homeBtn.addEventListener('click', () => showPage('home'));
    elements.prevQuestionBtn.addEventListener('click', goToPreviousQuestion);
    elements.nextQuestionBtn.addEventListener('click', goToNextQuestion);
}

function renderTestsList() {
    elements.testsContainer.innerHTML = '';
    
    tests.forEach(test => {
        const testCard = document.createElement('div');
        testCard.className = 'test-card';
        testCard.innerHTML = `
            <h3>${test.title}</h3>
            <p>${test.description}</p>
            <div class="test-meta">
                <span>${test.questionsCount} вопросов</span>
                <span>${test.duration}</span>
            </div>
        `;
        
        testCard.addEventListener('click', () => showTestDescription(test));
        elements.testsContainer.appendChild(testCard);
    });
}

function showTestDescription(test) {
    currentTest = test;
    elements.testTitle.textContent = test.title;
    elements.testDescriptionText.textContent = test.description;
    elements.testQuestionsCount.textContent = `${test.questionsCount} вопросов`;
    elements.testDuration.textContent = test.duration;
    
    showPage('description');
}

function startTest() {
    currentQuestionIndex = 0;
    userAnswers = [];
    showQuestion();
    showPage('test');
}

function showQuestion() {
    const question = currentTest.questions[currentQuestionIndex];
    const progress = ((currentQuestionIndex + 1) / currentTest.questions.length) * 100;
    
    elements.questionText.textContent = question.question;
    elements.questionCounter.textContent = `Вопрос ${currentQuestionIndex + 1} из ${currentTest.questions.length}`;
    elements.progressFill.style.width = `${progress}%`;
    
    renderAnswers(question.answers);
    updateNavigationButtons();
}

function renderAnswers(answers) {
    elements.answersContainer.innerHTML = '';
    
    // Для тестов с шкалой используем специальное отображение
    if (currentTest.id === 'san_test' || currentTest.id === 'psm25_test' || currentTest.id === 'burnout_test') {
        const question = currentTest.questions[currentQuestionIndex];
        const scale = question.scale;
        
        // Создаем контейнер для шкалы
        const scaleContainer = document.createElement('div');
        scaleContainer.className = 'scale-container';
        
        if (currentTest.id === 'psm25_test' || currentTest.id === 'burnout_test') {
            // Для PSM-25, выгорания и ургентной зависимости - только шкала без слов по бокам
            const scaleButtons = document.createElement('div');
            let buttonClass;
            
            if (currentTest.id === 'psm25_test') {
                buttonClass = 'scale-buttons psm25-buttons';
            } else if (currentTest.id === 'burnout_test') {
                buttonClass = 'scale-buttons burnout-buttons';
            }
            
            scaleButtons.className = buttonClass;
            
            scale.forEach((value, index) => {
                const button = document.createElement('button');
                button.className = `scale-button ${currentTest.id === 'psm25_test' ? 'psm25-button' : 'burnout-button'}`;
                button.textContent = value;
                button.dataset.value = value;
                button.dataset.index = index;
                
                button.addEventListener('click', () => selectScaleAnswer(value, index));
                scaleButtons.appendChild(button);
            });
            
            scaleContainer.appendChild(scaleButtons);
            
            
        } else {
            // Для САН - шкала с характеристиками по бокам
            const scaleRow = document.createElement('div');
            scaleRow.className = 'scale-row';
            
            // Левая характеристика
            const leftLabel = document.createElement('div');
            leftLabel.className = 'scale-label left';
            leftLabel.textContent = answers[0];
            scaleRow.appendChild(leftLabel);
            
            // Шкала с кнопками
            const scaleButtons = document.createElement('div');
            scaleButtons.className = 'scale-buttons';
            
            scale.forEach((value, index) => {
                const button = document.createElement('button');
                button.className = 'scale-button';
                button.textContent = value;
                button.dataset.value = value;
                button.dataset.index = index;
                
                button.addEventListener('click', () => selectScaleAnswer(value, index));
                scaleButtons.appendChild(button);
            });
            
            scaleRow.appendChild(scaleButtons);
            
            // Правая характеристика
            const rightLabel = document.createElement('div');
            rightLabel.className = 'scale-label right';
            rightLabel.textContent = answers[1];
            scaleRow.appendChild(rightLabel);
            
            scaleContainer.appendChild(scaleRow);
        }
        
        elements.answersContainer.appendChild(scaleContainer);
        } else {
            // Обычные ответы для других тестов
            answers.forEach((answer, index) => {
                const answerElement = document.createElement('div');
                answerElement.className = 'answer-option';
            answerElement.textContent = answer;
            answerElement.dataset.index = index;
            
            answerElement.addEventListener('click', () => selectAnswer(index));
            elements.answersContainer.appendChild(answerElement);
        });
    }
}

function selectAnswer(answerIndex) {
    // Убираем выделение с предыдущего ответа
    document.querySelectorAll('.answer-option').forEach(el => {
        el.classList.remove('selected');
    });
    
    // Выделяем выбранный ответ
    document.querySelector(`[data-index="${answerIndex}"]`).classList.add('selected');
    
    // Сохраняем ответ
    userAnswers[currentQuestionIndex] = answerIndex;
    
    // Показываем кнопку "Далее"
    elements.nextQuestionBtn.style.display = 'inline-block';
}

function selectScaleAnswer(value, index) {
    // Убираем выделение с предыдущего ответа
    document.querySelectorAll('.scale-button').forEach(el => {
        el.classList.remove('selected');
    });
    
    // Выделяем выбранный ответ
    document.querySelector(`[data-index="${index}"]`).classList.add('selected');
    
    // Сохраняем ответ (значение по шкале)
    userAnswers[currentQuestionIndex] = value;
    
    // Для PSM-25 и выгорания показываем подсказку снизу
    if (currentTest.id === 'psm25_test') {
        const tooltipArea = document.getElementById('psm25-tooltip');
        if (tooltipArea) {
            tooltipArea.textContent = `${value}`;
            tooltipArea.style.display = 'block';
        }
    } else if (currentTest.id === 'burnout_test') {
        const tooltipArea = document.getElementById('burnout-tooltip');
        if (tooltipArea) {
            tooltipArea.textContent = `${value}`;
            tooltipArea.style.display = 'block';
        }
    } else if (currentTest.id === 'urgent_dependency_test') {
        const tooltipArea = document.getElementById('urgent-tooltip');
        if (tooltipArea) {
            const tooltips = {
                1: 'никогда',
                2: 'редко',
                3: 'иногда',
                4: 'часто',
                5: 'всегда'
            };
            
            tooltipArea.textContent = `${value} – «${tooltips[value]}»`;
            tooltipArea.style.display = 'block';
        }
    }
    
    // Показываем кнопку "Далее"
    elements.nextQuestionBtn.style.display = 'inline-block';
}

function updateNavigationButtons() {
    elements.prevQuestionBtn.style.display = currentQuestionIndex > 0 ? 'inline-block' : 'none';
    elements.nextQuestionBtn.style.display = userAnswers[currentQuestionIndex] !== undefined ? 'inline-block' : 'none';
}

function goToPreviousQuestion() {
    if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        showQuestion();
        updateProgress();
    }
}

function goToNextQuestion() {
    if (currentQuestionIndex < currentTest.questions.length - 1) {
        currentQuestionIndex++;
        showQuestion();
        updateProgress();
    } else {
        finishTest();
    }
}

function finishTest() {
    const result = calculateTestResult();
    showResults(result);
    showPage('results');
}

function calculateTestResult() {
    if (currentTest.id === 'san_test') {
        return calculateSANResult();
    } else if (currentTest.id === 'psm25_test') {
        return calculatePSM25Result();
    } else if (currentTest.id === 'burnout_test') {
        return calculateBurnoutResult();
    } else if (currentTest.id === 'urgent_dependency_test') {
        return calculateUrgentDependencyResult();
    } else if (currentTest.id === 'anxiety_test') {
        return calculateAnxietyResult();
    } else if (currentTest.id === 'beck_depression_test') {
        return calculateBeckDepressionResult();
    } else if (currentTest.id === 'emotional_intelligence_test') {
        return calculateEmotionalIntelligenceResult();
    } else {
        // Простая логика подсчета результатов для других тестов
        const answerCounts = { A: 0, B: 0, C: 0, D: 0 };
        
        userAnswers.forEach(answerIndex => {
            if (answerIndex === 0) answerCounts.A++;
            else if (answerIndex === 1) answerCounts.B++;
            else if (answerIndex === 2) answerCounts.C++;
            else if (answerIndex === 3) answerCounts.D++;
        });
        
        const maxType = Object.keys(answerCounts).reduce((a, b) => 
            answerCounts[a] > answerCounts[b] ? a : b
        );
        
        return currentTest.results[maxType];
    }
}

function calculateSANResult() {
    // Подсчет результатов по категориям САН
    const categories = {
        wellbeing: [],
        activity: [],
        mood: []
    };
    
    // Группируем ответы по категориям
    currentTest.questions.forEach((question, index) => {
        const answer = userAnswers[index];
        if (answer !== undefined) {
            categories[question.category].push(answer);
        }
    });
    
    // Вычисляем средние значения для каждой категории
    const wellbeingScore = categories.wellbeing.reduce((sum, val) => sum + val, 0) / categories.wellbeing.length;
    const activityScore = categories.activity.reduce((sum, val) => sum + val, 0) / categories.activity.length;
    const moodScore = categories.mood.reduce((sum, val) => sum + val, 0) / categories.mood.length;
    
    // Общий балл САН
    const totalScore = (wellbeingScore + activityScore + moodScore) / 3;
    
    // Определяем результат на основе общего балла
    let resultType;
    if (totalScore >= 5.5) {
        resultType = 'excellent';
    } else if (totalScore >= 5.0) {
        resultType = 'good';
    } else if (totalScore >= 4.0) {
        resultType = 'normal';
    } else if (totalScore >= 3.5) {
        resultType = 'below_average';
    } else {
        resultType = 'poor';
    }
    
    // Создаем детальный результат
    const result = currentTest.results[resultType];
    result.details = {
        wellbeing: wellbeingScore.toFixed(1),
        activity: activityScore.toFixed(1),
        mood: moodScore.toFixed(1),
        total: totalScore.toFixed(1)
    };
    
    return result;
}

function calculatePSM25Result() {
    // Подсчет общего балла PSM-25
    const totalScore = userAnswers.reduce((sum, answer) => {
        // Преобразуем индекс ответа в балл (0-7 -> 1-8)
        return sum + ((answer || 0) + 1);
    }, 0);
    
    // Определяем уровень стресса на основе общего балла
    let resultType;
    if (totalScore > 155) {
        resultType = 'high_stress';
    } else if (totalScore >= 100) {
        resultType = 'medium_stress';
    } else {
        resultType = 'low_stress';
    }
    
    // Создаем детальный результат
    const result = currentTest.results[resultType];
    result.details = {
        totalScore: totalScore,
        maxPossibleScore: 200, // 25 вопросов * 8 баллов
        percentage: Math.round((totalScore / 200) * 100)
    };
    
    return result;
}

function calculateBurnoutResult() {
    // Подсчет результатов по трем шкалам выгорания
    const scales = {
        emotional_exhaustion: [],
        depersonalization: [],
        professional_reduction: []
    };
    
    // Группируем ответы по шкалам
    currentTest.questions.forEach((question, index) => {
        const answer = userAnswers[index];
        if (answer !== undefined) {
            let score = answer + 1; // Преобразуем индекс ответа в балл (0-5 -> 1-6)
            
            // Обратная шкала для некоторых вопросов
            if (!question.direct) {
                score = 7 - score; // Инвертируем для обратной шкалы
            }
            
            scales[question.category].push(score);
        }
    });
    
    // Вычисляем баллы по каждой шкале
    const emotionalExhaustionScore = scales.emotional_exhaustion.reduce((sum, val) => sum + val, 0);
    const depersonalizationScore = scales.depersonalization.reduce((sum, val) => sum + val, 0);
    const professionalReductionScore = scales.professional_reduction.reduce((sum, val) => sum + val, 0);
    
    // Определяем уровни выгорания для каждой шкалы
    const emotionalLevel = getBurnoutLevel('emotional_exhaustion', emotionalExhaustionScore);
    const depersonalizationLevel = getBurnoutLevel('depersonalization', depersonalizationScore);
    const professionalLevel = getBurnoutLevel('professional_reduction', professionalReductionScore);
    
    // Определяем общий уровень выгорания
    let overallLevel = 'low_burnout';
    if (emotionalLevel === 'high' || depersonalizationLevel === 'high' || professionalLevel === 'high') {
        overallLevel = 'high_burnout';
    } else if (emotionalLevel === 'medium' || depersonalizationLevel === 'medium' || professionalLevel === 'medium') {
        overallLevel = 'medium_burnout';
    }
    
    // Создаем детальный результат
    const result = currentTest.results[overallLevel];
    result.details = {
        emotionalExhaustion: {
            score: emotionalExhaustionScore,
            level: emotionalLevel,
            maxScore: 54
        },
        depersonalization: {
            score: depersonalizationScore,
            level: depersonalizationLevel,
            maxScore: 30
        },
        professionalReduction: {
            score: professionalReductionScore,
            level: professionalLevel,
            maxScore: 48
        }
    };
    
    return result;
}

function getBurnoutLevel(scale, score) {
    const thresholds = {
        emotional_exhaustion: { low: 15, medium: 24 },
        depersonalization: { low: 5, medium: 10 },
        professional_reduction: { low: 37, medium: 36 } // Обратная шкала
    };
    
    const threshold = thresholds[scale];
    
    if (scale === 'professional_reduction') {
        // Обратная шкала для редукции профессионализма
        if (score >= threshold.low) return 'low';
        if (score >= threshold.medium) return 'medium';
        return 'high';
    } else {
        // Прямая шкала для остальных
        if (score <= threshold.low) return 'low';
        if (score <= threshold.medium) return 'medium';
        return 'high';
    }
}

function calculateUrgentDependencyResult() {
    // Подсчет результатов по четырем шкалам ургентной зависимости
    const scales = {
        workaholism: [],
        personal_time: [],
        interpersonal_relationships: [],
        pace_of_life: []
    };
    
    // Группируем ответы по шкалам
    currentTest.questions.forEach((question, index) => {
        const answer = userAnswers[index];
        if (answer !== undefined) {
            let score = answer + 1; // Преобразуем индекс ответа в балл (0-4 -> 1-5)
            
            // Обратная шкала для некоторых вопросов
            if (!question.direct) {
                score = 6 - score; // Инвертируем для обратной шкалы (5-балльная шкала)
            }
            
            scales[question.category].push(score);
        }
    });
    
    // Вычисляем баллы по каждой шкале
    const workaholismScore = scales.workaholism.reduce((sum, val) => sum + val, 0);
    const personalTimeScore = scales.personal_time.reduce((sum, val) => sum + val, 0);
    const interpersonalScore = scales.interpersonal_relationships.reduce((sum, val) => sum + val, 0);
    const paceOfLifeScore = scales.pace_of_life.reduce((sum, val) => sum + val, 0);
    
    // Общий балл ургентной зависимости
    const totalScore = workaholismScore + personalTimeScore + interpersonalScore + paceOfLifeScore;
    
    // Определяем уровень ургентной зависимости
    let resultType;
    if (totalScore < 100) {
        resultType = 'low_dependency';
    } else if (totalScore < 150) {
        resultType = 'medium_dependency';
    } else {
        resultType = 'high_dependency';
    }
    
    // Создаем детальный результат
    const result = currentTest.results[resultType];
    result.details = {
        workaholism: {
            score: workaholismScore,
            maxScore: 60 // 12 вопросов * 5 баллов
        },
        personalTime: {
            score: personalTimeScore,
            maxScore: 50 // 10 вопросов * 5 баллов
        },
        interpersonalRelationships: {
            score: interpersonalScore,
            maxScore: 50 // 10 вопросов * 5 баллов
        },
        paceOfLife: {
            score: paceOfLifeScore,
            maxScore: 60 // 12 вопросов * 5 баллов
        },
        totalScore: totalScore,
        maxTotalScore: 220 // 44 вопроса * 5 баллов
    };
    
    return result;
}

function calculateAnxietyResult() {
    let situationalScore = 0;
    let personalScore = 0;
    
    // Подсчет баллов для ситуативной тревожности (вопросы 1-20)
    for (let i = 0; i < 20; i++) {
        const question = currentTest.questions[i];
        const answer = userAnswers[i];
        let score = answer + 1; // Преобразуем индекс в балл (0-3 -> 1-4)
        
        // Применяем обратное кодирование для прямых вопросов
        if (question.direct) {
            score = 5 - score; // Обратное кодирование: 1->4, 2->3, 3->2, 4->1
        }
        
        situationalScore += score;
    }
    
    // Подсчет баллов для личностной тревожности (вопросы 21-40)
    for (let i = 20; i < 40; i++) {
        const question = currentTest.questions[i];
        const answer = userAnswers[i];
        let score = answer + 1; // Преобразуем индекс в балл (0-3 -> 1-4)
        
        // Применяем обратное кодирование для прямых вопросов
        if (question.direct) {
            score = 5 - score; // Обратное кодирование: 1->4, 2->3, 3->2, 4->1
        }
        
        personalScore += score;
    }
    
    // Вычисляем средние баллы (делим на 20)
    const situationalAverage = situationalScore / 20;
    const personalAverage = personalScore / 20;
    
    // Определяем уровень тревожности для ситуативной тревожности
    let situationalLevel;
    if (situationalAverage >= 3.5) {
        situationalLevel = 'very_high_anxiety';
    } else if (situationalAverage >= 3.0) {
        situationalLevel = 'high_anxiety';
    } else if (situationalAverage >= 2.0) {
        situationalLevel = 'medium_anxiety';
    } else {
        situationalLevel = 'low_anxiety';
    }
    
    // Определяем уровень тревожности для личностной тревожности
    let personalLevel;
    if (personalAverage >= 3.5) {
        personalLevel = 'very_high_anxiety';
    } else if (personalAverage >= 3.0) {
        personalLevel = 'high_anxiety';
    } else if (personalAverage >= 2.0) {
        personalLevel = 'medium_anxiety';
    } else {
        personalLevel = 'low_anxiety';
    }
    
    return {
        situationalScore: Math.round(situationalScore),
        personalScore: Math.round(personalScore),
        situationalAverage: Math.round(situationalAverage * 10) / 10,
        personalAverage: Math.round(personalAverage * 10) / 10,
        situationalLevel,
        personalLevel,
        details: {
            situational: {
                score: Math.round(situationalScore),
                average: Math.round(situationalAverage * 10) / 10,
                level: situationalLevel
            },
            personal: {
                score: Math.round(personalScore),
                average: Math.round(personalAverage * 10) / 10,
                level: personalLevel
            }
        }
    };
}

function calculateBeckDepressionResult() {
    let totalScore = 0;
    let cognitiveAffectiveScore = 0;
    let somaticScore = 0;
    
    // Подсчет баллов по всем вопросам
    userAnswers.forEach((answerIndex, questionIndex) => {
        const question = currentTest.questions[questionIndex];
        const score = question.scale[answerIndex];
        totalScore += score;
        
        // Подсчет по субшкалам
        if (question.category === 'cognitive_affective') {
            cognitiveAffectiveScore += score;
        } else if (question.category === 'somatic') {
            somaticScore += score;
        }
    });
    
    // Определение уровня депрессии
    let depressionLevel;
    if (totalScore >= 0 && totalScore <= 9) {
        depressionLevel = 'no_depression';
    } else if (totalScore >= 10 && totalScore <= 15) {
        depressionLevel = 'mild_depression';
    } else if (totalScore >= 16 && totalScore <= 19) {
        depressionLevel = 'moderate_depression';
    } else if (totalScore >= 20 && totalScore <= 29) {
        depressionLevel = 'severe_depression';
    } else if (totalScore >= 30 && totalScore <= 63) {
        depressionLevel = 'very_severe_depression';
    }
    
    return {
        totalScore,
        cognitiveAffectiveScore,
        somaticScore,
        depressionLevel,
        details: {
            total: {
                score: totalScore,
                maxScore: 63,
                level: depressionLevel
            },
            cognitiveAffective: {
                score: cognitiveAffectiveScore,
                maxScore: 39, // 13 вопросов * 3 балла
                level: getDepressionSubscaleLevel(cognitiveAffectiveScore, 39)
            },
            somatic: {
                score: somaticScore,
                maxScore: 24, // 8 вопросов * 3 балла
                level: getDepressionSubscaleLevel(somaticScore, 24)
            }
        }
    };
}

function getDepressionSubscaleLevel(score, maxScore) {
    const percentage = (score / maxScore) * 100;
    if (percentage <= 15) return 'low';
    if (percentage <= 35) return 'mild';
    if (percentage <= 75) return 'moderate';
    if (percentage <= 75) return 'high';
    return 'very_high';
}

function calculateEmotionalIntelligenceResult() {
    let emotionalAwarenessScore = 0;
    let emotionManagementScore = 0;
    let selfMotivationScore = 0;
    let empathyScore = 0;
    let emotionRecognitionScore = 0;
    
    // Подсчет баллов по субшкалам
    userAnswers.forEach((answerIndex, questionIndex) => {
        const question = currentTest.questions[questionIndex];
        const score = question.scale[answerIndex];
        
        switch (question.category) {
            case 'emotional_awareness':
                emotionalAwarenessScore += score;
                break;
            case 'emotion_management':
                emotionManagementScore += score;
                break;
            case 'self_motivation':
                selfMotivationScore += score;
                break;
            case 'empathy':
                empathyScore += score;
                break;
            case 'emotion_recognition':
                emotionRecognitionScore += score;
                break;
        }
    });
    
    // Общий балл
    const totalScore = emotionalAwarenessScore + emotionManagementScore + selfMotivationScore + empathyScore + emotionRecognitionScore;
    
    // Определение уровня эмоционального интеллекта
    let eiLevel;
    if (totalScore >= 70) {
        eiLevel = 'high_ei';
    } else if (totalScore >= 40) {
        eiLevel = 'medium_ei';
    } else {
        eiLevel = 'low_ei';
    }
    
    // Определение уровней для каждой субшкалы
    const getSubscaleLevel = (score) => {
        if (score >= 14) return 'high';
        if (score >= 8) return 'medium';
        return 'low';
    };
    
    return {
        totalScore,
        emotionalAwarenessScore,
        emotionManagementScore,
        selfMotivationScore,
        empathyScore,
        emotionRecognitionScore,
        eiLevel,
        details: {
            total: {
                score: totalScore,
                maxScore: 90, // 30 вопросов * 3 балла
                level: eiLevel
            },
            emotionalAwareness: {
                score: emotionalAwarenessScore,
                maxScore: 18, // 6 вопросов * 3 балла
                level: getSubscaleLevel(emotionalAwarenessScore)
            },
            emotionManagement: {
                score: emotionManagementScore,
                maxScore: 18, // 6 вопросов * 3 балла
                level: getSubscaleLevel(emotionManagementScore)
            },
            selfMotivation: {
                score: selfMotivationScore,
                maxScore: 18, // 6 вопросов * 3 балла
                level: getSubscaleLevel(selfMotivationScore)
            },
            empathy: {
                score: empathyScore,
                maxScore: 18, // 6 вопросов * 3 балла
                level: getSubscaleLevel(empathyScore)
            },
            emotionRecognition: {
                score: emotionRecognitionScore,
                maxScore: 18, // 6 вопросов * 3 балла
                level: getSubscaleLevel(emotionRecognitionScore)
            }
        }
    };
}

// Функция отправки результатов в бот
async function sendResultsToBot(testResult) {
    try {
        const user = tg.initDataUnsafe?.user;
        if (!user) {
            console.log('Пользователь не найден');
            return;
        }

        const userId = user.id;
        const userName = user.first_name + (user.last_name ? ` ${user.last_name}` : '');
        const username = user.username ? `@${user.username}` : '';

        // Формируем сообщение с результатами
        let message = `🧠 <b>Результаты психологического теста</b>\n\n`;
        message += `👤 <b>Пользователь:</b> ${userName} ${username}\n`;
        message += `📋 <b>Тест:</b> ${currentTest.title}\n`;
        message += `📅 <b>Дата:</b> ${new Date().toLocaleDateString('ru-RU')}\n\n`;
        
        // Добавляем результаты в зависимости от типа теста
        if (currentTest.id === 'san_test' && testResult.details) {
            message += `📊 <b>Результаты САН:</b>\n`;
            message += `• Самочувствие: ${testResult.details.wellbeing}\n`;
            message += `• Активность: ${testResult.details.activity}\n`;
            message += `• Настроение: ${testResult.details.mood}\n`;
            message += `• Общий балл: ${testResult.details.total}\n\n`;
        } else if (currentTest.id === 'psm25_test') {
            message += `📊 <b>Результат PSM-25:</b> ${testResult.score} баллов\n`;
            message += `📈 <b>Уровень стресса:</b> ${testResult.level}\n\n`;
        } else if (currentTest.id === 'burnout_test' && testResult.details) {
            message += `📊 <b>Результаты выгорания:</b>\n`;
            message += `• Эмоциональное истощение: ${testResult.details.emotionalExhaustion.score}/${testResult.details.emotionalExhaustion.maxScore}\n`;
            message += `• Деперсонализация: ${testResult.details.depersonalization.score}/${testResult.details.depersonalization.maxScore}\n`;
            message += `• Редукция профессионализма: ${testResult.details.professionalReduction.score}/${testResult.details.professionalReduction.maxScore}\n\n`;
        } else if (currentTest.id === 'urgent_dependency_test' && testResult.details) {
            message += `📊 <b>Результаты ургентной зависимости:</b>\n`;
            message += `• Работоголизм: ${testResult.details.workaholism.score}/${testResult.details.workaholism.maxScore}\n`;
            message += `• Личное время: ${testResult.details.personalTime.score}/${testResult.details.personalTime.maxScore}\n`;
            message += `• Межличностные отношения: ${testResult.details.interpersonalRelationships.score}/${testResult.details.interpersonalRelationships.maxScore}\n`;
            message += `• Темп жизни: ${testResult.details.paceOfLife.score}/${testResult.details.paceOfLife.maxScore}\n`;
            message += `• Общий балл: ${testResult.details.totalScore}/${testResult.details.maxTotalScore}\n\n`;
        } else if (currentTest.id === 'anxiety_test' && testResult.details) {
            message += `📊 <b>Результаты тревожности:</b>\n`;
            message += `• Ситуативная тревожность: ${testResult.details.situational.score} баллов (средний: ${testResult.details.situational.average})\n`;
            message += `• Личностная тревожность: ${testResult.details.personal.score} баллов (средний: ${testResult.details.personal.average})\n\n`;
        } else if (currentTest.id === 'beck_depression_test' && testResult.details) {
            message += `📊 <b>Результаты депрессии:</b>\n`;
            message += `• Общий балл: ${testResult.details.total.score}/${testResult.details.total.maxScore}\n`;
            message += `• Когнитивно-аффективная субшкала: ${testResult.details.cognitiveAffective.score}/${testResult.details.cognitiveAffective.maxScore}\n`;
            message += `• Соматическая субшкала: ${testResult.details.somatic.score}/${testResult.details.somatic.maxScore}\n\n`;
        } else if (currentTest.id === 'emotional_intelligence_test' && testResult.details) {
            message += `📊 <b>Результаты эмоционального интеллекта:</b>\n`;
            message += `• Общий балл ЭИ: ${testResult.details.total.score}/${testResult.details.total.maxScore}\n`;
            message += `• Эмоциональная осведомленность: ${testResult.details.emotionalAwareness.score}/${testResult.details.emotionalAwareness.maxScore}\n`;
            message += `• Управление своими эмоциями: ${testResult.details.emotionManagement.score}/${testResult.details.emotionManagement.maxScore}\n`;
            message += `• Самомотивация: ${testResult.details.selfMotivation.score}/${testResult.details.selfMotivation.maxScore}\n`;
            message += `• Эмпатия: ${testResult.details.empathy.score}/${testResult.details.empathy.maxScore}\n`;
            message += `• Распознавание эмоций других людей: ${testResult.details.emotionRecognition.score}/${testResult.details.emotionRecognition.maxScore}\n\n`;
        }

        message += `💡 <b>Интерпретация:</b>\n${testResult.description}`;

        // Отправляем сообщение в бот
        const response = await fetch(`${BOT_API_URL}/sendMessage`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                chat_id: userId,
                text: message,
                parse_mode: 'HTML'
            })
        });

        if (response.ok) {
            console.log('Результаты успешно отправлены в бот');
            // Показываем уведомление пользователю
            tg.showAlert('Результаты теста отправлены в бот!');
        } else {
            console.error('Ошибка отправки в бот:', await response.text());
        }
    } catch (error) {
        console.error('Ошибка при отправке результатов:', error);
    }
}

function showResults(result) {
    let resultHTML = `
        <h3>${result.title}</h3>
        <p>${result.description}</p>
    `;
    
    // Для теста САН показываем детальные баллы
    if (currentTest.id === 'san_test' && result.details) {
        resultHTML += `
            <div class="san-details">
                <h4>Детальные результаты:</h4>
                <div class="san-scores">
                    <div class="score-item">
                        <span class="score-label">Самочувствие:</span>
                        <span class="score-value">${result.details.wellbeing}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Активность:</span>
                        <span class="score-value">${result.details.activity}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Настроение:</span>
                        <span class="score-value">${result.details.mood}</span>
                    </div>
                    <div class="score-item total">
                        <span class="score-label">Общий балл САН:</span>
                        <span class="score-value">${result.details.total}</span>
                    </div>
                </div>
                <div class="san-interpretation">
                    <p><strong>Интерпретация:</strong></p>
                    <ul>
                        <li><strong>Самочувствие</strong> - отражает степень физиологического и психологического комфорта</li>
                        <li><strong>Активность</strong> - характеризует интенсивность взаимодействия с окружающей средой</li>
                        <li><strong>Настроение</strong> - показывает эмоциональный фон и общее состояние</li>
                    </ul>
                    <p>Средний балл по шкале: 4.0. Баллы выше 4.0 указывают на благоприятное состояние.</p>
                </div>
            </div>
        `;
    }
    
    // Для теста PSM-25 показываем детальные баллы
    if (currentTest.id === 'psm25_test' && result.details) {
        resultHTML += `
            <div class="psm25-details">
                <h4>Детальные результаты:</h4>
                <div class="psm25-scores">
                    <div class="score-item">
                        <span class="score-label">Общий балл PSM-25:</span>
                        <span class="score-value">${result.details.totalScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Максимально возможный балл:</span>
                        <span class="score-value">${result.details.maxPossibleScore}</span>
                    </div>
                    <div class="score-item total">
                        <span class="score-label">Процент от максимума:</span>
                        <span class="score-value">${result.details.percentage}%</span>
                    </div>
                </div>
                <div class="psm25-interpretation">
                    <p><strong>Интерпретация уровней стресса:</strong></p>
                    <ul>
                        <li><strong>Низкий уровень</strong> (менее 100 баллов) - состояние психологической адаптации</li>
                        <li><strong>Средний уровень</strong> (100-155 баллов) - требует внимания к режиму труда и отдыха</li>
                        <li><strong>Высокий уровень</strong> (более 155 баллов) - состояние дезадаптации, требуется помощь специалиста</li>
                    </ul>
                    <p><strong>ППН (Показатель Психической Напряженности)</strong> - интегральный показатель вашего психологического стресса.</p>
                </div>
            </div>
        `;
    }
    
    // Для теста выгорания показываем детальные баллы
    if (currentTest.id === 'burnout_test' && result.details) {
        const getLevelText = (level) => {
            switch(level) {
                case 'low': return 'Низкий';
                case 'medium': return 'Средний';
                case 'high': return 'Высокий';
                default: return 'Не определен';
            }
        };
        
        resultHTML += `
            <div class="burnout-details">
                <h4>Детальные результаты по шкалам:</h4>
                <div class="burnout-scores">
                    <div class="score-item">
                        <span class="score-label">Эмоциональное истощение:</span>
                        <span class="score-value">${result.details.emotionalExhaustion.score}/${result.details.emotionalExhaustion.maxScore} (${getLevelText(result.details.emotionalExhaustion.level)})</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Деперсонализация:</span>
                        <span class="score-value">${result.details.depersonalization.score}/${result.details.depersonalization.maxScore} (${getLevelText(result.details.depersonalization.level)})</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Редукция профессионализма:</span>
                        <span class="score-value">${result.details.professionalReduction.score}/${result.details.professionalReduction.maxScore} (${getLevelText(result.details.professionalReduction.level)})</span>
                    </div>
                </div>
                <div class="burnout-interpretation">
                    <p><strong>Интерпретация шкал выгорания:</strong></p>
                    <ul>
                        <li><strong>Эмоциональное истощение</strong> - снижение эмоционального тонуса, психическое истощение</li>
                        <li><strong>Деперсонализация</strong> - эмоциональная отстраненность, формальное выполнение обязанностей</li>
                        <li><strong>Редукция профессионализма</strong> - степень удовлетворенности профессиональными достижениями</li>
                    </ul>
                    <p><strong>Обратите внимание:</strong> Для шкалы "Редукция профессионализма" высокие баллы означают низкий уровень выгорания, а низкие баллы - высокий уровень выгорания.</p>
                </div>
            </div>
        `;
    }
    
    // Для теста ургентной зависимости показываем детальные баллы
    if (currentTest.id === 'urgent_dependency_test' && result.details) {
        resultHTML += `
            <div class="urgent-details">
                <h4>Детальные результаты по шкалам:</h4>
                <div class="urgent-scores">
                    <div class="score-item">
                        <span class="score-label">Работоголизм:</span>
                        <span class="score-value">${result.details.workaholism.score}/${result.details.workaholism.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Личное время:</span>
                        <span class="score-value">${result.details.personalTime.score}/${result.details.personalTime.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Межличностные отношения:</span>
                        <span class="score-value">${result.details.interpersonalRelationships.score}/${result.details.interpersonalRelationships.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Темп жизни:</span>
                        <span class="score-value">${result.details.paceOfLife.score}/${result.details.paceOfLife.maxScore}</span>
                    </div>
                    <div class="score-item total">
                        <span class="score-label">Общий балл:</span>
                        <span class="score-value">${result.details.totalScore}/${result.details.maxTotalScore}</span>
                    </div>
                </div>
                <div class="urgent-interpretation">
                    <p><strong>Интерпретация шкал ургентной зависимости:</strong></p>
                    <ul>
                        <li><strong>Работоголизм</strong> - патологическая привязанность к работе, нарушающая нормальное функционирование личности</li>
                        <li><strong>Личное время</strong> - степень влияния времени на личность и эмоциональную сферу</li>
                        <li><strong>Межличностные отношения</strong> - способность строить отношения вне профессиональной сферы</li>
                        <li><strong>Темп жизни</strong> - постоянное состояние спешки и страха опоздать</li>
                    </ul>
                </div>
            </div>
        `;
    }
    
    // Для теста тревожности показываем детальные баллы
    if (currentTest.id === 'anxiety_test' && result.details) {
        resultHTML += `
            <div class="anxiety-details">
                <h4>Детальные результаты по шкалам тревожности:</h4>
                <div class="anxiety-scores">
                    <div class="score-item">
                        <span class="score-label">Ситуативная тревожность:</span>
                        <span class="score-value">${result.details.situational.score} баллов (средний: ${result.details.situational.average})</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Личностная тревожность:</span>
                        <span class="score-value">${result.details.personal.score} баллов (средний: ${result.details.personal.average})</span>
                    </div>
                </div>
                <div class="anxiety-interpretation">
                    <p><strong>Интерпретация результатов:</strong></p>
                    <ul>
                        <li><strong>Ситуативная тревожность</strong> - отражает ваше текущее эмоциональное состояние в данный момент</li>
                        <li><strong>Личностная тревожность</strong> - характеризует вашу склонность к тревожным реакциям в целом</li>
                    </ul>
                    <p><strong>Уровни тревожности:</strong></p>
                    <ul>
                        <li><strong>Низкий (1.5-1.9 балла)</strong> - низкая тревожность</li>
                        <li><strong>Средний (2.0-2.9 балла)</strong> - средняя тревожность</li>
                        <li><strong>Высокий (3.0-3.4 балла)</strong> - высокая тревожность</li>
                        <li><strong>Очень высокий (3.5-4.0 балла)</strong> - очень высокая тревожность</li>
                    </ul>
                </div>
            </div>
        `;
    }
    
    // Для теста депрессии показываем детальные баллы
    if (currentTest.id === 'beck_depression_test' && result.details) {
        resultHTML += `
            <div class="beck-details">
                <h4>Детальные результаты по шкалам депрессии:</h4>
                <div class="beck-scores">
                    <div class="score-item">
                        <span class="score-label">Общий балл:</span>
                        <span class="score-value">${result.details.total.score}/${result.details.total.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Когнитивно-аффективная субшкала:</span>
                        <span class="score-value">${result.details.cognitiveAffective.score}/${result.details.cognitiveAffective.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Соматическая субшкала:</span>
                        <span class="score-value">${result.details.somatic.score}/${result.details.somatic.maxScore}</span>
                    </div>
                </div>
                <div class="beck-interpretation">
                    <p><strong>Интерпретация результатов:</strong></p>
                    <ul>
                        <li><strong>Когнитивно-аффективная субшкала</strong> - отражает эмоциональные и когнитивные проявления депрессии (настроение, пессимизм, чувство вины и т.д.)</li>
                        <li><strong>Соматическая субшкала</strong> - отражает физические проявления депрессии (сон, аппетит, усталость и т.д.)</li>
                    </ul>
                    <p><strong>Уровни депрессии:</strong></p>
                    <ul>
                        <li><strong>0-9 баллов:</strong> отсутствие депрессивных симптомов</li>
                        <li><strong>10-15 баллов:</strong> легкая депрессия (субдепрессия)</li>
                        <li><strong>16-19 баллов:</strong> умеренная депрессия</li>
                        <li><strong>20-29 баллов:</strong> выраженная депрессия (средней тяжести)</li>
                        <li><strong>30-63 балла:</strong> тяжелая депрессия</li>
                    </ul>
                </div>
            </div>
        `;
    }
    
    // Добавляем кнопку отправки в бот
    resultHTML += `
    `;
    
    // Для теста эмоционального интеллекта показываем детальные баллы
    if (currentTest.id === 'emotional_intelligence_test' && result.details) {
        resultHTML += `
            <div class="ei-details">
                <h4>Детальные результаты по субшкалам эмоционального интеллекта:</h4>
                <div class="ei-scores">
                    <div class="score-item">
                        <span class="score-label">Общий балл ЭИ:</span>
                        <span class="score-value">${result.details.total.score}/${result.details.total.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Эмоциональная осведомленность:</span>
                        <span class="score-value">${result.details.emotionalAwareness.score}/${result.details.emotionalAwareness.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Управление своими эмоциями:</span>
                        <span class="score-value">${result.details.emotionManagement.score}/${result.details.emotionManagement.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Самомотивация:</span>
                        <span class="score-value">${result.details.selfMotivation.score}/${result.details.selfMotivation.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Эмпатия:</span>
                        <span class="score-value">${result.details.empathy.score}/${result.details.empathy.maxScore}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Распознавание эмоций других людей:</span>
                        <span class="score-value">${result.details.emotionRecognition.score}/${result.details.emotionRecognition.maxScore}</span>
                    </div>
                </div>
                <div class="ei-interpretation">
                    <p><strong>Интерпретация результатов:</strong></p>
                    <ul>
                        <li><strong>Эмоциональная осведомленность</strong> - способность понимать и осознавать свои эмоции</li>
                        <li><strong>Управление своими эмоциями</strong> - способность контролировать и регулировать эмоциональные реакции</li>
                        <li><strong>Самомотивация</strong> - способность использовать эмоции для достижения целей</li>
                        <li><strong>Эмпатия</strong> - способность понимать эмоции других людей</li>
                        <li><strong>Распознавание эмоций других людей</strong> - способность читать эмоциональные сигналы в общении</li>
                    </ul>
                    <p><strong>Уровни эмоционального интеллекта:</strong></p>
                    <ul>
                        <li><strong>70+ баллов:</strong> высокий уровень ЭИ</li>
                        <li><strong>40-69 баллов:</strong> средний уровень ЭИ</li>
                        <li><strong>39 и менее:</strong> низкий уровень ЭИ</li>
                    </ul>
                </div>
            </div>
        `;
    }
    
    elements.testResult.innerHTML = resultHTML;
    
}

function retakeTest() {
    startTest();
}

function showPage(pageName) {
    Object.values(pages).forEach(page => {
        page.classList.remove('active');
    });
    pages[pageName].classList.add('active');
    
    // Показываем/скрываем прогресс-бар
    if (pageName === 'test') {
        elements.progressBar.classList.remove('hidden');
        updateProgress();
    } else {
        elements.progressBar.classList.add('hidden');
    }
}

function updateProgress() {
    if (currentTest && currentQuestionIndex !== undefined) {
        const progress = ((currentQuestionIndex + 1) / currentTest.questions.length) * 100;
        elements.progressFill.style.width = `${progress}%`;
    }
}

// Обработка кнопки "Назад" в Telegram
tg.BackButton.onClick(() => {
    if (pages.test.classList.contains('active')) {
        if (currentQuestionIndex > 0) {
            goToPreviousQuestion();
        } else {
            showPage('description');
        }
    } else if (pages.description.classList.contains('active')) {
        showPage('home');
    } else if (pages.results.classList.contains('active')) {
        showPage('home');
    }
});

// Показываем кнопку "Назад" когда нужно
function updateBackButton() {
    if (pages.test.classList.contains('active') || 
        pages.description.classList.contains('active') || 
        pages.results.classList.contains('active')) {
        tg.BackButton.show();
    } else {
        tg.BackButton.hide();
    }
}

// Обновляем кнопку "Назад" при смене страниц
const originalShowPage = showPage;
showPage = function(pageName) {
    originalShowPage(pageName);
    updateBackButton();
};
